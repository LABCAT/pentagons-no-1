(this["webpackJsonppentagons-no-1"]=this["webpackJsonppentagons-no-1"]||[]).push([[0],{15:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var i=n(1),o=n.n(i),s=n(9),a=n.n(s),d=(n(15),n(2));window.p5=d;n(20);var r=n(10),l=n(0);function h(){return Object(l.jsxs)("svg",{id:"play-icon",className:"fade-out",xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",children:[Object(l.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(l.jsx)("path",{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})]})}function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=[],a=0;for(;a<4;){t=(t+=90*a)<360?t:t-360;const d=e.color(t,n,i,o);s.push(d),a++}return s}class u{constructor(e,t,n,i,o,s){this.p=e,this.x=t,this.y=n,this.speed=e.random(e.width/512,e.width/256),this.size=e.width/128,this.fill=i,this.stroke=o,this.rotationAngle=0,this.rotationDirection=Math.random()>.5?"clockwise":"anti-clockwise",this.innerPentagons=[]}update(){this.size=this.size+this.speed,this.rotationAngle="clockwise"===this.rotationDirection?this.rotationAngle+this.speed/24:this.rotationAngle-this.speed/24}draw(){this.p.fill(this.fill),this.p.stroke(this.stroke),this.p.strokeWeight(this.p.width/128),this.p.push(),this.p.rotate(this.rotationAngle),this.p.beginShape();for(let e=0;e<360;e+=72){let t=this.x+this.p.cos(e)*this.size,n=this.y+this.p.sin(e)*this.size;this.p.vertex(t,n)}this.p.endShape(this.p.CLOSE),this.p.pop()}}var g=n.p+"static/media/pentagons-no-1.c8cc49f5.ogg",p=n.p+"static/media/pentagons-no-1.4d62366c.mid";var m=()=>{const e=Object(i.useRef)(),t=e=>{e.canvas=null,e.canvasWidth=window.innerWidth,e.canvasHeight=window.innerHeight,e.audioLoaded=!1,e.player=null,e.PPQ=15360,e.bpm=105,e.loadMidi=()=>{r.Midi.fromUrl(p).then((function(t){console.log(t);const n=t.tracks[1].notes,i=t.tracks[9].notes,o=t.tracks[2].notes;e.scheduleCueSet(n,"executeCueSet1"),e.scheduleCueSet(i,"executeCueSet2"),e.scheduleCueSet(o,"executeCueSet3"),e.audioLoaded=!0,document.getElementById("loader").classList.add("loading--complete"),document.getElementById("play-icon").classList.remove("fade-out")}))},e.preload=()=>{e.song=e.loadSound(g,e.loadMidi),e.song.onended(e.logCredits)},e.scheduleCueSet=function(t,n){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=-1,s=1;for(let a=0;a<t.length;a++){const d=t[a],{ticks:r,time:l}=d;(r!==o||i)&&(d.currentCue=s,e.song.addCue(l,e[n],d),o=r,s++)}},e.pentagons=[],e.miniPentagons=[],e.miniPentagons2=[],e.colourFills=[],e.colourStrokes=[],e.darkMode=!1,e.setup=()=>{e.canvas=e.createCanvas(e.canvasWidth,e.canvasHeight),e.colorMode(e.HSB),e.angleMode(e.DEGREES),e.darkMode=Math.random()>.5,e.background(0,0,e.darkMode?0:100),e.stroke(0,0,100);const t=e.random(0,360);e.colourFills=c(e,t,100,100,.33),e.colourStrokes=c(e,t,100,100,.66)},e.draw=()=>{if(e.audioLoaded&&e.song.isPlaying()){e.background(0,0,e.darkMode?0:100);for(let t=0;t<e.miniPentagons.length;t++){const n=e.miniPentagons[t],{x:i,y:o,size:s,fill:a,angle:d}=n;e.stroke(0,0,e.darkMode?100:0),e.fill(a),e.strokeWeight(4),e.beginShape();for(let t=d;t<d+360;t+=72){let n=i+e.cos(t)*s,a=o+e.sin(t)*s;e.vertex(n,a)}e.endShape(e.CLOSE)}for(let t=0;t<e.pentagons.length;t++){const n=e.pentagons[t];n.draw(),n.update()}for(let t=0;t<e.miniPentagons2.length;t++){const n=e.miniPentagons2[t],{x:i,y:o,size:s,fill:a,angle:d}=n;e.stroke(0,0,e.darkMode?0:100),e.fill(a),e.strokeWeight(2),e.beginShape();for(let t=d;t<d+360;t+=72){let n=i+e.cos(t)*s,a=o+e.sin(t)*s;e.vertex(n,a)}e.endShape(e.CLOSE)}}},e.executeCueSet1=t=>{let{currentCue:n}=t;if(n%8===1){e.pentagons=[],n>1&&(e.darkMode=Math.random()>.5);const t=e.random(0,360);e.colourFills=c(e,t,100,100,.33),e.colourStrokes=c(e,t,100,100,.66)}const i=e.random(e.width/8,e.width-e.width/8),o=e.random(e.height/8,e.height-e.height/8),s=e.random([0,1,2,3]),a=e.random([0,1,2,3].filter((e=>e!==s)));e.pentagons.push(new u(e,i,o,e.colourFills[s],e.colourStrokes[a]))},e.executeCueSet2=t=>{let{currentCue:n}=t;if(n>10&&n%2){n%16===1&&(e.miniPentagons=[]);const t=428.55;let i,o,s;do{i=e.random(e.width/8,e.width-e.width/8),o=e.random(e.height/8,e.height-e.height/8),s=e.random(e.height/64,e.width/32)}while(e.checkForCollisions(i,o,5*s));for(let n=0;n<5;n++)setTimeout((()=>{const t=e.colourFills[e.random([0,1,2,3])],a=e.random(0,360);e.miniPentagons.push({x:i,y:o,size:s*(n+1),fill:t,angle:a})}),t*n)}},e.executeCueSet3=t=>{let{currentCue:n,midi:i,ticks:o,...s}=t;if(n>39&&n%3){n%24===1&&(e.miniPentagons2=[]);const t=n>69?125:66,s=25,a=e.random(e.height/32,e.width/16),d=e.map(o%491520,0,491520,e.width/32,e.width-e.width/32),r=e.map(i,75,61,e.height/12,e.height-e.height/12);let l=[];for(let n=1;n<s;n++){const t=e.colourFills[e.random([0,1,2,3])],i=e.random(0,360);l.push({x:d,y:r,size:a-a/s*n,fill:t,angle:i})}l=e.shuffle(l);for(let n=0;n<l.length;n++)setTimeout((()=>{e.miniPentagons2.push(l[n])}),t*n)}},e.checkForCollisions=(t,n,i)=>{const o=i/2;for(let s=0;s<e.miniPentagons.length;s+=5){const a=e.miniPentagons[s],d=a.x-t,r=a.y-n;if(Math.sqrt(d*d+r*r)<5*a.size+i+o)return!0}return!1},e.hasStarted=!1,e.mousePressed=()=>{e.audioLoaded&&(e.song.isPlaying()?e.song.pause():(parseInt(e.song.currentTime())>=parseInt(e.song.buffer.duration)&&(e.reset(),"undefined"!==typeof window.dataLayer&&window.dataLayer.push({event:"play-animation",animation:{title:document.title,location:window.location.href,action:"replaying"}})),document.getElementById("play-icon").classList.add("fade-out"),e.canvas.addClass("fade-in"),e.song.play(),"undefined"===typeof window.dataLayer||e.hasStarted||(window.dataLayer.push({event:"play-animation",animation:{title:document.title,location:window.location.href,action:"start playing"}}),e.hasStarted=!1)))},e.creditsLogged=!1,e.logCredits=()=>{!e.creditsLogged&&parseInt(e.song.currentTime())>=parseInt(e.song.buffer.duration)&&(e.creditsLogged=!0,console.log("Music By: http://labcat.nz/","\n","Animation By: https://github.com/LABCAT/"),e.song.stop())},e.reset=()=>{},e.updateCanvasDimensions=()=>{e.canvasWidth=window.innerWidth,e.canvasHeight=window.innerHeight,e.canvas=e.resizeCanvas(e.canvasWidth,e.canvasHeight)},window.attachEvent?window.attachEvent("onresize",(function(){e.updateCanvasDimensions()})):window.addEventListener&&window.addEventListener("resize",(function(){e.updateCanvasDimensions()}),!0)};return Object(i.useEffect)((()=>{new d(t,e.current)}),[]),Object(l.jsx)("div",{ref:e,children:Object(l.jsx)(h,{})})};var w=function(){return Object(l.jsx)(m,{})};a.a.render(Object(l.jsx)(o.a.StrictMode,{children:Object(l.jsx)(w,{})}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.49554b67.chunk.js.map